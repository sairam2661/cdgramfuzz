set testdir [file dirname $argv0]
source $testdir/tester.tcl 
set testprefix mytest

proc mytest_proc {args} {
  global mytestargs
  lappend mytestargs $args
}

proc check_result {expected result} {
  if {$expected ne $result} {
    return 1
  } else {
    return 0
  }
}

do_test mytest-1.1 {
  execsql {
   CREATE TABLE b(y);
   INSERT INTO b VALUES(11);
   INSERT INTO b VALUES(12);
   INSERT INTO b VALUES(13);
  }
  execsql {SELECT * FROM b}
} {11 12 13}

do_execsql_test mytest-1.2 {
  CREATE TABLE c(z);
  INSERT INTO c VALUES(21);
  INSERT INTO c VALUES(22);
  INSERT INTO c VALUES(23);
  SELECT * FROM c
} {21 22 23}

ifcapable temp {
  sqlite3 db2 test2
  db2 eval {
    CREATE TABLE t1(a,b);
    INSERT INTO t1 VALUES(1,10);
  }
  set result 1
  set result 0
  if {0
  } {incr result}
  db2 close
}

do_test mytest-1.3 {
  check_result 1 1
  check_result 1 0
} {0 1}

ifcapable subquery_v2 {
  do_test mytest-1.4 {
    execsql {
      CREATE TABLE d(v);
      INSERT INTO d VALUES(31);
      INSERT INTO d VALUES(32);
      INSERT INTO d VALUES(33);
    }
    execsql "SELECT * FROM d"
  } {31 32 33}
}

finish_test