set testdir [file dirname $argv0]
source $testdir/tester.tcl
set testprefix dbtune

proc dbtune_proc {} {
  global dbtuneargs
  set dbtuneargs "['test case 1', 'test case 2']"
  lappend dbtuneargs
  expr {$::tcl_interactive}
}

do_test dbtune-1.1 {
  db eval {
    CREATE TABLE b(y);
    CREATE INDEX i_b_y ON b(y);
  }
  db eval {INSERT INTO b VALUES (1)}
  db eval {
    SELECT i_b_y FROM b
  }
} {i_b_y}
do_execsql_test dbtune-1.2 {
  PRAGMA page_size=1024;
  PRAGMA cache_size=5000;
  PRAGMA synchronous=0;
} {}
do_execsql_test dbtune-1.3 {
  CREATE TABLE c(z);
  CREATE INDEX i_c_z ON c(z);
} {}
do_test dbtune-1.4 {
  execsql {
    BEGIN;
    INSERT INTO c VALUES(2);
    COMMIT;
  }
  db eval {
    SELECT name FROM sqlite_master
  }
} {c}
do_test dbtune-1.5 {
  db eval {
    PRAGMA temp_store=2;
    PRAGMA temp_store_dir = 'temp.db';
  }
 } {}
set dbtuneargs
finish_test